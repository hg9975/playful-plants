{"ast":null,"code":"import \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.json.stringify.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Vue from \"vue\";\nexport default {\n  name: \"AddNewJournal\",\n  data: function data() {\n    return {\n      photo: Vue.prototype.$photo,\n      title: Vue.prototype.$title,\n      date: new Date(),\n      creator: Vue.prototype.$creator,\n      members: this.$profile_fixtures.members,\n      text: Vue.prototype.$text,\n      task: \"\",\n      todo_list: Vue.prototype[\"$to-do\"]\n    };\n  },\n  created: function created() {\n    this.date = this.date.toLocaleDateString();\n  },\n  methods: {\n    addTask: function addTask() {\n      var id = Object.keys(this.todo_list).length + 1;\n      var task_id = \"task \" + id.toString();\n      this.todo_list[task_id] = this.task;\n      Vue.prototype[\"$to-do\"][task_id] = this.task;\n      this.task = \"\";\n    },\n    discard: function discard() {\n      this.$bvModal.hide(\"warning-message\");\n      this.$router.push(\"/journal\");\n    },\n    save: function save() {\n      this.$bvModal.hide(\"warning-message\");\n      this.post();\n    },\n    post: function post() {\n      var updated_journals = JSON.parse(window.localStorage.getItem(\"update_journals\"));\n      Vue.prototype.$cnt++;\n      var new_len = Vue.prototype.$cnt;\n      var updateid = \"journal \" + new_len.toString();\n      updated_journals[updateid] = {\n        title: this.title,\n        date: this.date,\n        creator: this.members[this.creator].name,\n        image: Vue.prototype.$photo,\n        text: this.text,\n        \"to-do\": this.todo_list\n      };\n      window.localStorage.setItem(\"update_journals\", JSON.stringify(updated_journals));\n      Vue.prototype.$photo = null;\n      Vue.prototype.$title = null;\n      Vue.prototype.$creator = null;\n      Vue.prototype.$text = null;\n      Vue.prototype[\"$to-do\"] = {};\n      this.$router.push(\"/journal\");\n    },\n    openCamera: function openCamera() {\n      this.$router.push(\"/journal/new/camera\");\n    },\n    deletePhoto: function deletePhoto() {\n      Vue.prototype.$photo = null;\n      this.photo = null;\n    },\n    changeGlobalTitle: function changeGlobalTitle(text) {\n      Vue.prototype.$title = text;\n    },\n    changeGlobalCreator: function changeGlobalCreator(text) {\n      Vue.prototype.$creator = text;\n    },\n    changeGlobalText: function changeGlobalText(t) {\n      Vue.prototype.$text = t;\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkKA;AACA;AACAA,uBADA;AAEAC,MAFA,kBAEA;AACA;AACAC,iCADA;AAEAC,iCAFA;AAGAC,sBAHA;AAIAC,qCAJA;AAKAC,6CALA;AAMAC,+BANA;AAOAC,cAPA;AAQAC;AARA;AAUA,GAbA;AAcAC,SAdA,qBAcA;AACA;AACA,GAhBA;AAkBAC;AACAC,WADA,qBACA;AACA;AACA;AACA;AACAC;AACA;AACA,KAPA;AASAC,WATA,qBASA;AACA;AACA;AACA,KAZA;AAaAC,QAbA,kBAaA;AACA;AACA;AACA,KAhBA;AAiBAC,QAjBA,kBAiBA;AACA;AACAH;AACA;AACA;AACAI;AACAd,yBADA;AAEAC,uBAFA;AAGAC,gDAHA;AAIAa,mCAJA;AAKAX,uBALA;AAMA;AANA;AAQAY;AAEAN;AACAA;AACAA;AACAA;AACAA;AACA;AACA,KAtCA;AAuCAO,cAvCA,wBAuCA;AACA;AACA,KAzCA;AA0CAC,eA1CA,yBA0CA;AACAR;AACA;AACA,KA7CA;AA8CAS,qBA9CA,6BA8CAf,IA9CA,EA8CA;AACAM;AACA,KAhDA;AAiDAU,uBAjDA,+BAiDAhB,IAjDA,EAiDA;AACAM;AACA,KAnDA;AAoDAW,oBApDA,4BAoDAC,CApDA,EAoDA;AACAZ;AACA;AAtDA;AAlBA","names":["name","data","photo","title","date","creator","members","text","task","todo_list","created","methods","addTask","Vue","discard","save","post","updated_journals","image","window","openCamera","deletePhoto","changeGlobalTitle","changeGlobalCreator","changeGlobalText","t"],"sourceRoot":"src/views","sources":["AddNewJournal.vue"],"sourcesContent":["<template>\n<div class=\"main-view\">\n  <b-container fluid>\n    <b-container class=\"header\">\n      <b-row>\n        <b-col class=\"mx-0 px-0\" cols=\"1\">\n          <!-- Creating close warning message -->\n          <b-button class=\"ml-0\" variant=\"outline-secondary\" v-b-modal.warning-message>\n            <b-icon icon=\"arrow-left\" />\n          </b-button>\n          <b-modal\n            id=\"warning-message\"\n            header-bg-variant=\"dark\"\n            header-text-variant=\"light\"\n            centered\n          >\n            <template #modal-header>\n              <h4>Please confirm</h4>\n            </template>\n            <template #default>\n              <p class=\"my-4\">\n                You haven't save your journal entry! Are you sure that you want\n                to discard the editing?\n              </p>\n            </template>\n            <template #modal-footer>\n              <b-button outline-secondary @click=\"discard()\">\n                Discard\n              </b-button>\n              <b-button variant=\"success\" @click=\"save()\"> Save </b-button>\n            </template>\n          </b-modal>\n        </b-col>\n        <b-col class=\"px-0\" offset=\"8\">\n          <b-button class=\"postBtn\" variant=\"success\" v-on:click=\"post\">Post</b-button>\n        </b-col>\n      </b-row>\n\n      <b-row>\n        <h4 class=\"dateTitle\">{{ date }}</h4>\n      </b-row>\n    </b-container>\n\n    <b-container class=\"user-input\">\n      <b-row class=\"forms\" align-h=\"center\">\n        <b-col class=\"labels\" sm=\"12\">\n          <label class=\"label\" for=\"title\"><p class=\"star\">* </p>Journal Title:</label>\n        </b-col>\n        <b-col class=\"inputs\" sm=\"12\">\n          <b-form-input\n            id=\"title\"\n            class=\"titlebox\"\n            v-model=\"title\"\n            v-on:change=\"changeGlobalTitle(title)\"\n            placeholder=\"Enter Journal Title\"\n          ></b-form-input>\n        </b-col>\n      </b-row>\n\n      <b-row class=\"forms\" align-h=\"center\">\n        <b-col class=\"labels\" sm=\"12\">\n          <label class=\"label\" for=\"creators\"><p class=\"star\">* </p>Creators:</label>\n        </b-col>\n        <b-col class=\"inputs\" sm=\"12\">\n          <b-form-select\n            id=\"creators\"\n            v-model=\"creator\"\n            class=\"w-100\"\n            required\n            v-on:change=\"changeGlobalCreator(creator)\"\n          >\n            <template #first>\n              <b-form-select-option :value=\"null\" disabled\n                >Please select your name</b-form-select-option\n              >\n            </template>\n\n            <b-form-select-option\n              v-for=\"(detail, mid) in members\"\n              v-bind:key=\"mid\"\n              :value=\"mid\"\n            >\n              {{ detail.name }}\n            </b-form-select-option>\n          </b-form-select>\n        </b-col>\n      </b-row>\n\n      <b-row class=\"forms\" align-h=\"center\">\n        <b-col class=\"labels\" sm=\"12\">\n          <label class=\"label\" for=\"journalentry\"><p class=\"star\">* </p>Journal Entry:</label>\n        </b-col>\n        <b-col class=\"inputs\" sm=\"12\">\n          <b-form-textarea\n            id=\"journalentry\"\n            class=\"form-control\"\n            v-model=\"text\"\n            v-on:change=\"changeGlobalText(text)\"\n            placeholder=\"Write down something about gardening of the day...\"\n            rows=\"10\"\n          ></b-form-textarea>\n        </b-col>\n      </b-row>\n\n      <b-container class=\"to-do\" align-h=\"center\">\n        <b-row class=\"forms\">\n          <b-col class=\"labels\" sm=\"12\">\n            <label class=\"label\" for=\"todo\">To-Do List:</label>\n          </b-col>\n          <b-col align-self=\"start\" class=\"todoInput\" sm=\"9\">\n            <b-form-input\n              id=\"todo\"\n              v-model=\"task\"\n              placeholder=\"Enter your gardening task\"\n            ></b-form-input>\n          </b-col>\n          <b-col align-self=\"start\" class=\"todoAdd\" sm=\"3\">\n            <b-button @click=\"addTask()\">\n              <b-icon-plus-lg></b-icon-plus-lg>\n            </b-button>\n          </b-col>\n        </b-row>\n        <b-row class=\"todo\" cols=\"1\">\n          <b-col v-for=\"task in todo_list\" v-bind:key=\"task.id\" align-self=\"start\">\n            <b-form-checkbox\n              id=\"checkbox\"\n              name=\"checkbox\"\n              value=\"completed\"\n              unchecked-value=\"not_completed\"\n            >\n            <p class=\"task_detail\">{{ task }}</p>\n            </b-form-checkbox>\n          </b-col>\n        </b-row>\n      </b-container>\n\n      <b-row align-h=\"center\" class=\"forms\">\n        <b-col class=\"labels\" sm=\"12\">\n          <label class=\"label\" for=\"photo\">Upload Photo:</label>\n        </b-col>\n        <b-col class=\"camera\" sm=\"12\">\n          <b-button-group>\n            <b-button class=\"photoBtn\" v-on:click=\"openCamera()\">\n              <b-icon icon=\"camera-fill\"></b-icon> Open Camera\n            </b-button>\n            <b-button v-if=\"photo != null\" class=\"photoBtn\" variant=\"outline-secondary\" v-on:click=\"deletePhoto()\">\n              <b-icon icon=\"trash-fill\"></b-icon> Delete Photo\n            </b-button>\n          </b-button-group>\n        </b-col>\n        <b-col v-if=\"photo != null\" class=\"uploadImg\" sm=\"12\">\n          <img :src=\"photo\" class=\"upload\" />\n        </b-col>\n      </b-row>\n\n    </b-container>\n\n  </b-container>\n</div>\n</template>\n\n<script>\nimport Vue from \"vue\";\nexport default {\n  name: \"AddNewJournal\",\n  data() {\n    return {\n      photo: Vue.prototype.$photo,\n      title: Vue.prototype.$title,\n      date: new Date(),\n      creator: Vue.prototype.$creator,\n      members: this.$profile_fixtures.members,\n      text: Vue.prototype.$text,\n      task: \"\",\n      todo_list: Vue.prototype[\"$to-do\"],\n    };\n  },\n  created() {\n    this.date = this.date.toLocaleDateString();\n  },\n\n  methods: {\n    addTask() {\n      let id = Object.keys(this.todo_list).length + 1;\n      let task_id = \"task \" + id.toString();\n      this.todo_list[task_id] = this.task;\n      Vue.prototype[\"$to-do\"][task_id] = this.task;\n      this.task = \"\";\n    },\n\n    discard() {\n      this.$bvModal.hide(\"warning-message\");\n      this.$router.push(\"/journal\");\n    },\n    save() {\n      this.$bvModal.hide(\"warning-message\");\n      this.post();\n    },\n    post() {\n      var updated_journals = JSON.parse(window.localStorage.getItem(\"update_journals\"));\n      Vue.prototype.$cnt++;\n      var new_len = Vue.prototype.$cnt;\n      var updateid = \"journal \" + new_len.toString();\n      updated_journals[updateid] = {\n        title: this.title,\n        date: this.date,\n        creator: this.members[this.creator].name,\n        image: Vue.prototype.$photo,\n        text: this.text,\n        \"to-do\": this.todo_list,\n      };\n      window.localStorage.setItem(\"update_journals\", JSON.stringify(updated_journals));\n\n      Vue.prototype.$photo = null;\n      Vue.prototype.$title = null;\n      Vue.prototype.$creator = null;\n      Vue.prototype.$text = null;\n      Vue.prototype[\"$to-do\"] = {};\n      this.$router.push(\"/journal\");\n    },\n    openCamera() {\n      this.$router.push(\"/journal/new/camera\");\n    },\n    deletePhoto() {\n      Vue.prototype.$photo = null;\n      this.photo = null;\n    },\n    changeGlobalTitle(text) {\n      Vue.prototype.$title = text;\n    },\n    changeGlobalCreator(text) {\n      Vue.prototype.$creator = text;\n    },\n    changeGlobalText(t) {\n      Vue.prototype.$text = t;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.header{\n  position: fixed;\n  z-index: 99;\n  background: #fff;\n  top:0;\n}\n\n@media (min-width:600px){\n.main-view {\n  margin-left: 200px;\n}\n}\n\n@media only screen and (max-width:600px) {\n  .main-view{\n    width: 100%;\n    min-width: 360px;\n    margin-bottom:100px;\n  }\n}\n\n/* Responsive Styling for Large screen */\n@media only screen and (min-width: 768px){\n  .dateTitle {\n    font-size: 20px;\n  }\n  .labels {\n    width: 30%;\n    text-align: right;\n  }\n  .label {\n    text-align: right;\n    font-weight: bold;\n    font-size: 20px;\n  }\n  .inputs {\n    width: 70%;\n    text-align: left;\n    height: 100%;\n  }\n  .forms {\n    margin-top: 20px;\n  }\n  .todoInput {\n    width: 60%;\n    margin-right: 0px;\n    padding-right: 0px;\n  }\n  .todoAdd {\n    width: 10%;\n    margin-left: 0px;\n    padding-left: 0px;\n  }\n  .todo{\n    margin-left: 30%;\n    margin-top: 5px;\n    font-size: 18px;\n  }\n  .camera {\n    width: 70%;\n    text-align: left;\n  }\n  .uploadImg {\n    margin-left: 30%;\n    margin-top: 10px;\n    margin-bottom: 15px;\n    width: 70%;\n  }\n  .user-input {\n    width: 90%;\n  }\n  .postBtn {\n    position: fixed;\n    right: 20px;\n    top: 20px;\n  }\n}\n/* Responsive Styling for Small screen */\n@media only screen and (max-width: 768px){\n  .dateTitle {\n    font-size: 16px;\n  }\n  .label {\n    text-align: left;\n    width: 100%;\n    margin: 5px 0;\n    font-weight: bold;\n  }\n  .todoInput {\n    width: 85%;\n    margin-right: 0px;\n    padding-right: 0px;\n  }\n  .todoAdd {\n    width: 10%;\n    margin-left: 0px;\n    padding-left: 0px;\n  }\n  .forms {\n    margin-top: 5px;\n  }\n  .photoBtn {\n    margin-top: 10px;\n    margin-bottom: 15px;\n  }\n  .postBtn {\n    position: fixed;\n    right: 10px;\n    top: 20px;\n  }\n}\n\n#creators {\n  height: 42px;\n  border: 1px solid #ced4da;\n  border-radius: 0.25rem;\n  padding: 0.375rem 0.375rem;\n  font-size: 1rem;\n  font-weight: 400;\n  color: #212529;\n  line-height: 1rem;\n}\n.star {\n  display: inline;\n  color: rgb(216, 8, 8);\n}\n\n.header {\n  margin-top: 20px;\n}\n\n.justifiedtext {\n  text-align: justify;\n}\n\n.to-do {\n  width: 100%;\n  padding: 0px;\n  text-align:left;\n}\n.task_detail {\n  margin-left: 10px;\n}\n\n#warning-message {\n  width: 100%;\n}\n\n.upload {\n  height: auto;\n  width: 100%;\n  margin: 0 auto;\n  justify-content: center;\n}\n.dateTitle{\n  justify-content: center;\n}\n\n</style>\n"]},"metadata":{},"sourceType":"module"}